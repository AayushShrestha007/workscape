{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Switch from'react-switch';import{toast}from'react-toastify';import styled from'styled-components';import{loginEmployerApi,loginUserApi}from'../../../apis/Api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f2f5;\n`;const LoginFormWrapper=styled.div`\n  display: flex;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;const ImageWrapper=styled.div`\n  display: none;\n  @media (min-width: 768px) {\n    display: block;\n    background-color: #2d69b3;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n  }\n`;const LoginForm=styled.div`\n  width: 300px;\n  padding: 40px;\n  text-align: center;\n`;const Image=styled.img`\n  width: 300px;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n`;const SwitchContainer=styled.div`\n  margin: 10px 0; // Same vertical margin as Input\n  display: flex;\n  align-items: center;\n`;const Title=styled.h2`\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n`;const Input=styled.input`\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 16px;\n`;const Button=styled.button`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2d69b3;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  margin-top: 10px;\n`;const Text=styled.p`\n  margin-top: 20px;\n  font-size: 14px;\n  color: #666;\n`;// const RegisterLink = styled(Link)`\n//   color: #007bff;\n//   text-decoration: none;\n//   &:hover {\n//     text-decoration: underline;\n//   }\n// `;\nconst LoginPage=()=>{//logic section\n//make a useState for 5 fields\nconst[email,setEmail]=useState('');const[password,setPassword]=useState('');const[isEmployer,setIsEmployer]=useState(false);// Boolean state for the switch\n//use state for error message\nconst[emailError,setEmailError]=useState('');const[passwordError,setPasswordError]=useState('');const navigate=useNavigate();//validation\nvar validate=()=>{var isValid=true;if(email.trim()===''||!email.includes('@')){setEmailError(\"Email is required\");isValid=false;}if(password.trim()===''){setPasswordError(\"Password is required\");isValid=false;}return isValid;};//login button function\nconst handleSubmit=e=>{e.preventDefault();//call the validator\nvar isValidated=validate();if(!isValidated){return;}const data={\"email\":email,\"password\":password};//if the toggle is on Employer, employer api will be called and vice versa\nconst apiEndpoint=isEmployer?loginEmployerApi:loginUserApi;apiEndpoint(data).then(res=>{if(res.data.success===false){toast.error(res.data.message);}else{toast.success(res.data.message);//succes-bool, message-text, token-text, user data-json object \n//setting token and user data in local storage\nlocalStorage.setItem('token',res.data.token);//setting user data\nconst convertedData=JSON.stringify(isEmployer?res.data.employerData:res.data.userData);//local storage set\nlocalStorage.setItem(isEmployer?'employer':'user',convertedData);navigate(isEmployer?'/employer/dashboard':'/applicant/dashboard');}});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(LoginFormWrapper,{children:[/*#__PURE__*/_jsx(ImageWrapper,{children:/*#__PURE__*/_jsx(Image,{src:\"/assets/images/login_image.png\",alt:\"Login\"})}),/*#__PURE__*/_jsxs(LoginForm,{children:[/*#__PURE__*/_jsx(Title,{children:\"Login To Job Mate\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Email\",className:\"form-control\",onChange:e=>setEmail(e.target.value)}),emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:emailError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value),className:\"form-control\"}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:passwordError}),/*#__PURE__*/_jsx(SwitchContainer,{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(Switch,{onChange:setIsEmployer,checked:isEmployer,offColor:\"#888\",onColor:\"#2d69b3\",checkedIcon:false,uncheckedIcon:false,height:20,width:48}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:10},children:isEmployer?'Employer':'Applicant'})]})}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"Login\"}),/*#__PURE__*/_jsxs(Text,{children:[\"Don\\u2019t Have An Account?\",/*#__PURE__*/_jsx(Link,{to:isEmployer?'/employer/register':'/applicant/register',children:\" Register\"})]})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","Link","useNavigate","Switch","toast","styled","loginEmployerApi","loginUserApi","jsx","_jsx","jsxs","_jsxs","Container","div","LoginFormWrapper","ImageWrapper","LoginForm","Image","img","SwitchContainer","Title","h2","Input","input","Button","button","Text","p","LoginPage","email","setEmail","password","setPassword","isEmployer","setIsEmployer","emailError","setEmailError","passwordError","setPasswordError","navigate","validate","isValid","trim","includes","handleSubmit","e","preventDefault","isValidated","data","apiEndpoint","then","res","success","error","message","localStorage","setItem","token","convertedData","JSON","stringify","employerData","userData","children","src","alt","type","placeholder","className","onChange","target","value","checked","offColor","onColor","checkedIcon","uncheckedIcon","height","width","style","marginLeft","onClick","to"],"sources":["/Users/ayush/Desktop/security cw 2/React/app_final/src/pages/common/login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Switch from 'react-switch';\nimport { toast } from 'react-toastify';\nimport styled from 'styled-components';\nimport { loginEmployerApi, loginUserApi } from '../../../apis/Api';\n\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f2f5;\n`;\n\nconst LoginFormWrapper = styled.div`\n  display: flex;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst ImageWrapper = styled.div`\n  display: none;\n  @media (min-width: 768px) {\n    display: block;\n    background-color: #2d69b3;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n  }\n`;\n\nconst LoginForm = styled.div`\n  width: 300px;\n  padding: 40px;\n  text-align: center;\n`;\n\nconst Image = styled.img`\n  width: 300px;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n`;\n\nconst SwitchContainer = styled.div`\n  margin: 10px 0; // Same vertical margin as Input\n  display: flex;\n  align-items: center;\n`;\n\nconst Title = styled.h2`\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 16px;\n`;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2d69b3;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  margin-top: 10px;\n`;\n\nconst Text = styled.p`\n  margin-top: 20px;\n  font-size: 14px;\n  color: #666;\n`;\n\n// const RegisterLink = styled(Link)`\n//   color: #007bff;\n//   text-decoration: none;\n//   &:hover {\n//     text-decoration: underline;\n//   }\n// `;\n\nconst LoginPage = () => {\n\n  //logic section\n\n  //make a useState for 5 fields\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [isEmployer, setIsEmployer] = useState(false); // Boolean state for the switch\n\n\n  //use state for error message\n\n  const [emailError, setEmailError] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n\n  const navigate = useNavigate()\n\n\n  //validation\n  var validate = () => {\n    var isValid = true;\n\n    if (email.trim() === '' || !email.includes('@')) {\n      setEmailError(\"Email is required\")\n      isValid = false;\n    }\n\n    if (password.trim() === '') {\n      setPasswordError(\"Password is required\")\n      isValid = false;\n    }\n\n    return isValid\n  }\n\n  //login button function\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    //call the validator\n    var isValidated = validate();\n    if (!isValidated) {\n      return\n    }\n    const data = {\n      \"email\": email,\n      \"password\": password\n    }\n\n    //if the toggle is on Employer, employer api will be called and vice versa\n    const apiEndpoint = isEmployer ? loginEmployerApi : loginUserApi;\n\n\n    apiEndpoint(data).then((res) => {\n      if (res.data.success === false) {\n        toast.error(res.data.message)\n      }\n      else {\n        toast.success(res.data.message)\n\n        //succes-bool, message-text, token-text, user data-json object \n        //setting token and user data in local storage\n        localStorage.setItem('token', res.data.token)\n\n        //setting user data\n        const convertedData = JSON.stringify(isEmployer ? res.data.employerData : res.data.userData)\n\n        //local storage set\n        localStorage.setItem(isEmployer ? 'employer' : 'user', convertedData)\n\n\n\n        navigate(isEmployer ? '/employer/dashboard' : '/applicant/dashboard');\n\n\n      }\n\n\n    })\n\n  }\n\n  return (\n    <Container>\n      <LoginFormWrapper>\n        <ImageWrapper>\n          <Image src=\"/assets/images/login_image.png\" alt=\"Login\" />\n        </ImageWrapper>\n        <LoginForm>\n          <Title>Login To Job Mate</Title>\n          <Input\n            type=\"text\"\n            placeholder=\"Email\"\n            className='form-control'\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          {\n            emailError && <p className='text-danger'>{emailError}</p>\n          }\n          <Input\n            type=\"text\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            className='form-control'\n          />\n          {\n            passwordError && <p className='text-danger'>{passwordError}</p>\n          }\n          <SwitchContainer>\n            <label>\n              <Switch\n                onChange={setIsEmployer}\n                checked={isEmployer}\n                offColor=\"#888\"\n                onColor=\"#2d69b3\"\n                checkedIcon={false}\n                uncheckedIcon={false}\n                height={20}\n                width={48}\n              />\n              <span style={{ marginLeft: 10 }}>{isEmployer ? 'Employer' : 'Applicant'}</span>\n            </label>\n          </SwitchContainer>\n\n          <Button onClick={handleSubmit}>Login</Button>\n          <Text>\n            Donâ€™t Have An Account?\n            <Link to={isEmployer ? '/employer/register' : '/applicant/register'} > Register</Link>\n          </Text>\n        </LoginForm>\n      </LoginFormWrapper>\n    </Container>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}