{"ast":null,"code":"import { Base } from './Base.js';\nexport class Optional extends Base {\n  constructor(type) {\n    let condition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    super();\n    this.type = type;\n    this.condition = condition;\n  }\n  decode(stream, parent) {\n    let {\n      condition\n    } = this;\n    if (typeof condition === 'function') {\n      condition = condition.call(parent, parent);\n    }\n    if (condition) {\n      return this.type.decode(stream, parent);\n    }\n  }\n  size(val, parent) {\n    let {\n      condition\n    } = this;\n    if (typeof condition === 'function') {\n      condition = condition.call(parent, parent);\n    }\n    if (condition) {\n      return this.type.size(val, parent);\n    } else {\n      return 0;\n    }\n  }\n  encode(stream, val, parent) {\n    let {\n      condition\n    } = this;\n    if (typeof condition === 'function') {\n      condition = condition.call(parent, parent);\n    }\n    if (condition) {\n      return this.type.encode(stream, val, parent);\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}