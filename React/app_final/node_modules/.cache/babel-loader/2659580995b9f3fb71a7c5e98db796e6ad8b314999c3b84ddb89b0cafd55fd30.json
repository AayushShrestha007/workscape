{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Switch from'react-switch';import{toast}from'react-toastify';import styled from'styled-components';import{loginEmployerApi,loginUserApi}from'../../../apis/Api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f0f2f5;\n`;const LoginFormWrapper=styled.div`\n  display: flex;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;const ImageWrapper=styled.div`\n  display: none;\n  @media (min-width: 768px) {\n    display: block;\n    background-color: #2d69b3;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n  }\n`;const LoginForm=styled.div`\n  width: 300px;\n  padding: 40px;\n  text-align: center;\n`;const Image=styled.img`\n  width: 300px;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n`;const SwitchContainer=styled.div`\n  margin: 10px 0; // Same vertical margin as Input\n  display: flex;\n  align-items: center;\n`;const Title=styled.h2`\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n`;const Input=styled.input`\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 16px;\n`;const Button=styled.button`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2d69b3;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  margin-top: 10px;\n`;const Text=styled.p`\n  margin-top: 20px;\n  font-size: 14px;\n  color: #666;\n`;// const RegisterLink = styled(Link)`\n//   color: #007bff;\n//   text-decoration: none;\n//   &:hover {\n//     text-decoration: underline;\n//   }\n// `;\nconst LoginPage=()=>{//logic section\n//make a useState for 5 fields\nconst[email,setEmail]=useState('');const[password,setPassword]=useState('');const[isEmployer,setIsEmployer]=useState(false);// Boolean state for the switch\n//use state for error message\nconst[emailError,setEmailError]=useState('');const[passwordError,setPasswordError]=useState('');const navigate=useNavigate();//validation\nvar validate=()=>{var isValid=true;if(email.trim()===''||!email.includes('@')){setEmailError(\"Email is required\");isValid=false;}if(password.trim()===''){setPasswordError(\"Password is required\");isValid=false;}return isValid;};//login button function\nconst handleSubmit=e=>{e.preventDefault();//call the validator\nvar isValidated=validate();if(!isValidated){return;}const data={\"email\":email,\"password\":password};//if the toggle is on Employer, employer api will be called and vice versa\nconst apiEndpoint=isEmployer?loginEmployerApi:loginUserApi;apiEndpoint(data).then(res=>{if(res.data.success===false){toast.error(res.data.message);}else{toast.success(res.data.message);//succes-bool, message-text, token-text, user data-json object \n//setting token and user data in local storage\nlocalStorage.setItem('token',res.data.token);//setting user data\nconst convertedData=JSON.stringify(isEmployer?res.data.employerData:res.data.userData);//local storage set\nlocalStorage.setItem(isEmployer?'employer':'user',convertedData);navigate(isEmployer?'/employer/dashboard':'/applicant/dashboard');}});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(LoginFormWrapper,{children:[/*#__PURE__*/_jsx(ImageWrapper,{children:/*#__PURE__*/_jsx(Image,{src:\"/assets/images/login_image.png\",alt:\"Login\"})}),/*#__PURE__*/_jsxs(LoginForm,{children:[/*#__PURE__*/_jsx(Title,{children:\"Login To WorkScape\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Email\",className:\"form-control\",onChange:e=>setEmail(e.target.value)}),emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:emailError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value),className:\"form-control\"}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:passwordError}),/*#__PURE__*/_jsx(SwitchContainer,{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(Switch,{onChange:setIsEmployer,checked:isEmployer,offColor:\"#888\",onColor:\"#2d69b3\",checkedIcon:false,uncheckedIcon:false,height:20,width:48}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:10},children:isEmployer?'Employer':'Applicant'})]})}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"Login\"}),/*#__PURE__*/_jsxs(Text,{children:[\"Don\\u2019t Have An Account?\",/*#__PURE__*/_jsx(Link,{to:isEmployer?'/employer/register':'/applicant/register',children:\" Register\"})]})]})]})});};export default LoginPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}