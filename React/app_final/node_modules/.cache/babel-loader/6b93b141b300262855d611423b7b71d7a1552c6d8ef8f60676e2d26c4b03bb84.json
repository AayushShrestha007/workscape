{"ast":null,"code":"import React,{useState}from'react';import{FaUserCircle}from'react-icons/fa';// Importing a user profile icon\nimport{Link,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import styled from'styled-components';import{registerUserApi}from'../../../apis/Api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #fff;\n`;const RegisterFormWrapper=styled.div`\n  display: flex;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;const ImageWrapper=styled.div`\n  display: flex;\n  flex-direction: column;  // Change direction to column to stack vertically\n  justify-content: center;\n  align-items: center;\n  background-color: #2d69b3;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n  padding: 20px;\n  min-width: 350px;  \n  max-width: 350px; \n  max-height: 850px;  \n  cursor: pointer;\n`;const ProfileImage=styled.img`\n  max-width: 150px;  \n  max-height: 150px; \n  width: 100%;       \n  height: auto;      \n  border-radius: 50%;  \n  object-fit: cover; \n`;const RegisterForm=styled.div`\n  width: 350px;\n  padding: 40px;\n  text-align: center;\n`;const Image=styled.img`\n  width: 300px;\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n`;const Title=styled.h2`\n  margin-bottom: 20px;\n  font-size: 24px;\n  color: #333;\n`;const ProfileIcon=styled(FaUserCircle)`\n  font-size: 120px;\n  color: #fff;\n  \n`;const Input=styled.input`\n  width: 100%;\n  padding: 10px;\n  margin: 10px 0;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 16px;\n`;const Button=styled.button`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2d69b3;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  margin-top: 10px;\n`;const Text=styled.p`\n  margin-top: 20px;\n  font-size: 14px;\n  color: #666;\n`;const LoginLink=styled(Link)`\n  color: #007bff;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n`;const RegisterPage=()=>{//logic section\n//make a useState for 5 fields\nconst[name,setName]=useState('');const[email,setEmail]=useState('');const[phone,setPhone]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[profileImage,setProfileImage]=useState(null);const[previewImage,setPreviewImage]=useState(null);//use state for error message\nconst[nameError,setNameError]=useState('');const[emailError,setEmailError]=useState('');const[phoneError,setPhoneError]=useState('');const[passwordError,setPasswordError]=useState('');const[profileImageError,setProfileImageError]=useState('');const[confirmPasswordError,setConfirmPasswordError]=useState('');const navigate=useNavigate();//validation\nvar validate=()=>{var isValid=true;//validate the firstName\nif(name.trim()===\"\"){setNameError(\"Name is required\");isValid=false;}if(email.trim()===''||!email.includes('@')){setEmailError(\"Email is required\");isValid=false;}if(phone.trim()===\"\"){setPhoneError(\"Phone is required\");isValid=false;}if(password.trim()===\"\"){setPasswordError(\"Password is required\");isValid=false;}if(confirmPassword.trim()===\"\"){setConfirmPasswordError(\"Confirm Password is required\");isValid=false;}if(confirmPassword.trim()!==password.trim()){setConfirmPasswordError(\"Password and confirmation password don't match\");isValid=false;}if(profileImage===null){setProfileImageError(\"Profile image is required\");isValid=false;}return isValid;};//submit butoton function\nconst handleSubmit=e=>{e.preventDefault();//call the validator\nvar isValidated=validate();if(!isValidated){return;}//make a form data (txt, file)\nconst formData=new FormData();formData.append('name',name);formData.append('phone',phone);formData.append('email',email);formData.append('password',password);formData.append('userImage',profileImage);//register user Api \nregisterUserApi(formData).then(res=>{//received data: success, message\nif(res.data.success===false){toast.error(res.data.message);}else{toast.success(res.data.message);navigate('/login');}});};const handleImageChange=event=>{if(event.target.files[0]){setProfileImage(event.target.files[0]);setPreviewImage(URL.createObjectURL(event.target.files[0]));}};const handleIconClick=()=>{document.getElementById('profileImage').click();};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(RegisterFormWrapper,{children:[/*#__PURE__*/_jsxs(ImageWrapper,{onClick:handleIconClick,children:[profileImage?/*#__PURE__*/_jsx(ProfileImage,{src:previewImage,alt:\"Profile Preview\"}):/*#__PURE__*/_jsx(ProfileIcon,{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"profileImage\",style:{display:'none'},accept:\"image/*\",onChange:handleImageChange,\"data-testid\":\"profileImageUpload\"}),profileImageError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:profileImageError})]}),/*#__PURE__*/_jsxs(RegisterForm,{children:[/*#__PURE__*/_jsx(Title,{children:\"Register To WorkScape\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Name\",className:\"form-control\",onChange:e=>setName(e.target.value)}),nameError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:nameError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Email Address\",className:\"form-control\",onChange:e=>setEmail(e.target.value)}),emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:emailError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Phone number\",className:\"form-control\",onChange:e=>setPhone(e.target.value)}),phoneError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:phoneError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Password\",className:\"form-control\",onChange:e=>setPassword(e.target.value)}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:passwordError}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Confirm Password\",className:\"form-control\",onChange:e=>setConfirmPassword(e.target.value)}),confirmPasswordError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:confirmPasswordError}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,children:\"Register\"}),/*#__PURE__*/_jsxs(Text,{children:[\"Already Have An Account? \",/*#__PURE__*/_jsx(LoginLink,{to:\"/login\",children:\"Login here\"})]})]})]})});};export default RegisterPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}