{"ast":null,"code":"import * as r from \"restructure\";\nimport { concatenateUint8Arrays, readUInt8 } from \"./utils.js\";\nclass HuffmanTableElements {\n  decode(stream, parent) {\n    const tables = {};\n    let buffer = stream.buffer.slice(stream.pos, stream.pos + parent.length - 2);\n    while (buffer.length > 0) {\n      let offset = 1;\n      const elements = [];\n      const identifier = readUInt8(buffer, 0);\n      const lengths = buffer.slice(offset, offset + 16);\n      offset += 16;\n      for (const length of lengths) {\n        elements.push(buffer.slice(offset, offset + length));\n        offset += length;\n      }\n      buffer = buffer.slice(offset);\n      tables[identifier] = concatenateUint8Arrays(elements);\n    }\n    stream.pos += parent.length - 2;\n    return tables;\n  }\n}\nconst DefineHuffmanTableMarker = {\n  name: () => \"DHT\",\n  length: r.uint16be,\n  tables: new HuffmanTableElements()\n};\nexport default DefineHuffmanTableMarker;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}